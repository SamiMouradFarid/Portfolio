Z<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sami Mourad Farid ‚Äî Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        :root{
          --bg-dark:#041421;
          --overlay: rgba(2,8,12,0.55);
          --turq-1:#00c2d1;
          --turq-2:#6a5bff;
          --turq-3:#7fe3ff;
          --card: rgba(255,255,255,0.03);
          --glass: rgba(255,255,255,0.02);
          --text-dark:#e9fbfb;
        }

        /* Reset */
        *{box-sizing:border-box;margin:0;padding:0}
        html,body{height:100%}
        body{
          font-family:'Poppins',sans-serif;
          background: var(--bg-dark);
          color: #e9fbfb;
          -webkit-font-smoothing:antialiased;
          -moz-osx-font-smoothing:grayscale;
          overflow-x:hidden;
          direction:ltr;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        /* Loading screen */
        .loading-screen {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: var(--bg-dark);
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          z-index: 10000;
          transition: opacity 0.5s ease;
        }

        .loading-content {
          text-align: center;
        }

        .loading-chart {
          width: 200px;
          height: 120px;
          margin-bottom: 15px; /* Reduced margin */
          position: relative;
        }

        .chart-bar {
          position: absolute;
          bottom: 0;
          width: 30px;
          background: linear-gradient(to top, var(--turq-1), var(--turq-2));
          border-radius: 4px 4px 0 0;
          animation: chartGrow 1.5s infinite ease-in-out;
        }

        .chart-bar:nth-child(1) { left: 10px; height: 40px; animation-delay: 0s; }
        .chart-bar:nth-child(2) { left: 45px; height: 70px; animation-delay: 0.2s; }
        .chart-bar:nth-child(3) { left: 80px; height: 30px; animation-delay: 0.4s; }
        .chart-bar:nth-child(4) { left: 115px; height: 90px; animation-delay: 0.6s; }
        .chart-bar:nth-child(5) { left: 150px; height: 50px; animation-delay: 0.8s; }
        .chart-bar:nth-child(6) { left: 185px; height: 60px; animation-delay: 1s; }

        @keyframes chartGrow {
          0%, 100% { transform: scaleY(1); }
          50% { transform: scaleY(1.3); }
        }

        .trend-line-container {
          width: 220px;
          height: 2px;
          background: rgba(255,255,255,0.2);
          border-radius: 1px;
          overflow: hidden;
          margin: 0 auto 0.5rem; /* Reduced margin */
        }

        .trend-line {
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, var(--turq-1), transparent);
          animation: trend 2s infinite linear;
        }

        @keyframes trend {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }

        .loading-text {
          color: var(--text-dark);
          font-size: 18px;
          font-weight: 600;
        }

        /* Full-screen background video - FIXED POSITIONING */
        .bg-video{
          position:fixed;
          inset:0;
          width:100%;
          height:100%;
          object-fit:cover;
          z-index:-1; /* Behind everything */
          filter: brightness(0.36) saturate(1.05) contrast(1.02);
        }
        .bg-overlay{ 
          position:fixed; 
          inset:0; 
          z-index:-1; /* Behind everything */
          background: linear-gradient(180deg, rgba(2,8,12,0.28), rgba(2,8,12,0.48)); 
        }

        /* Fixed Sidebar Group - All buttons same size and responsive */
        .sidebar-group {
          position: fixed;
          right: 20px;
          top: 70px;
          z-index: 9999;
          display: flex;
          flex-direction: column;
          gap: 10px;
          width: 140px; /* Fixed width for all buttons */
        }

        .sidebar-btn {
          background: rgba(255,255,255,0.03);
          padding: 10px 15px;
          border-radius: 10px;
          border: 2px solid rgba(255,255,255,0.04);
          box-shadow: 0 8px 30px rgba(0,0,0,0.6);
          transition: all 0.3s ease;
          cursor: pointer;
          width: 100%; /* All buttons same width */
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          min-height: 44px; /* Ensure same height for all buttons */
        }

        .sidebar-btn a {
          color: var(--text-dark);
          text-decoration: none;
          font-weight: 700;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: all 0.3s ease;
          width: 100%;
          justify-content: center;
          white-space: nowrap;
        }

        .sidebar-btn:hover {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          box-shadow: 0 12px 30px rgba(6,168,154,0.12);
          transform: translateY(-2px);
        }

        .sidebar-btn:hover a {
          color: #012;
        }

        /* Music Auto-play prompt */
        .music-prompt {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(2, 16, 25, 0.95);
          padding: 30px;
          border-radius: 16px;
          text-align: center;
          z-index: 10000;
          border: 2px solid var(--turq-1);
          box-shadow: 0 20px 60px rgba(0,0,0,0.8);
          max-width: 400px;
          width: 90%;
        }

        .music-prompt-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
        }

        .music-prompt-lang {
          display: flex;
          gap: 6px;
        }

        .music-prompt-lang button {
          background: transparent;
          border: none;
          color: var(--text-dark);
          padding: 6px 10px;
          font-weight: 700;
          cursor: pointer;
          border-radius: 6px;
          font-size: 12px;
        }

        .music-prompt-lang button.active {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
        }

        .music-prompt-close {
          background: transparent;
          border: none;
          color: var(--text-dark);
          font-size: 20px;
          cursor: pointer;
          width: 30px;
          height: 30px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .music-prompt-close:hover {
          background: rgba(255,255,255,0.1);
        }

        .music-prompt h3 {
          color: var(--turq-3);
          margin-bottom: 15px;
          font-size: 20px;
        }

        .music-prompt p {
          color: #cfeff0;
          margin-bottom: 20px;
          line-height: 1.5;
        }

        .music-prompt-buttons {
          display: flex;
          gap: 12px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .music-prompt-btn {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
          border: none;
          padding: 12px 20px;
          border-radius: 10px;
          font-weight: 800;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s ease;
          flex: 1;
          min-width: 120px;
        }

        .music-prompt-btn.secondary {
          background: rgba(255,255,255,0.1);
          color: var(--text-dark);
          border: 1px solid rgba(255,255,255,0.2);
        }

        .music-prompt-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 25px rgba(6,168,154,0.3);
        }

        .music-prompt-btn.secondary:hover {
          background: rgba(255,255,255,0.15);
          box-shadow: 0 10px 25px rgba(255,255,255,0.1);
        }

        /* Contact Modal - IMPROVED RESPONSIVENESS */
        .contact-modal {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(2, 16, 25, 0.95);
          padding: 25px;
          border-radius: 16px;
          z-index: 10000;
          border: 2px solid var(--turq-1);
          box-shadow: 0 20px 60px rgba(0,0,0,0.8);
          max-width: 450px;
          width: 85%;
          max-height: 80vh;
          overflow-y: auto;
          display: none;
        }

        .contact-modal.open {
          display: block;
        }

        .contact-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .contact-modal-title {
          color: var(--turq-3);
          font-size: 20px;
          font-weight: 700;
        }

        .contact-modal-close {
          background: transparent;
          border: none;
          color: var(--text-dark);
          font-size: 20px;
          cursor: pointer;
          width: 30px;
          height: 30px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .contact-modal-close:hover {
          background: rgba(255,255,255,0.1);
        }

        .contact-form {
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 5px;
        }

        .form-label {
          color: var(--text-dark);
          font-weight: 600;
          font-size: 14px;
        }

        .form-input, .form-textarea {
          padding: 12px;
          border-radius: 8px;
          border: 1px solid rgba(255,255,255,0.1);
          background: rgba(255,255,255,0.05);
          color: var(--text-dark);
          font-family: 'Poppins', sans-serif;
          transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: var(--turq-1);
          box-shadow: 0 0 0 2px rgba(0,194,209,0.2);
        }

        .form-textarea {
          resize: vertical;
          min-height: 120px;
        }

        .form-submit {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
          border: none;
          padding: 12px 20px;
          border-radius: 10px;
          font-weight: 800;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s ease;
          margin-top: 10px;
        }

        .form-submit:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 25px rgba(6,168,154,0.3);
        }

        .form-submit:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .success-message {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(2, 16, 25, 0.95);
          padding: 30px;
          border-radius: 16px;
          text-align: center;
          z-index: 10001;
          border: 2px solid var(--turq-1);
          box-shadow: 0 20px 60px rgba(0,0,0,0.8);
          max-width: 400px;
          width: 90%;
          display: none;
        }

        .success-message.open {
          display: block;
        }

        .success-message h3 {
          color: var(--turq-3);
          margin-bottom: 15px;
          font-size: 20px;
        }

        .success-message p {
          color: #cfeff0;
          margin-bottom: 20px;
          line-height: 1.5;
        }

        .success-message button {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
          border: none;
          padding: 12px 20px;
          border-radius: 10px;
          font-weight: 800;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s ease;
        }

        .success-message button:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 25px rgba(6,168,154,0.3);
        }

        /* top language switch */
        .lang-switch {
          position:fixed;
          right:20px;
          top:16px;
          z-index:9999;
          display:flex;
          gap:6px;
          background: rgba(255,255,255,0.03);
          padding:6px;
          border-radius:10px;
          border:1px solid rgba(255,255,255,0.04);
          box-shadow: 0 8px 30px rgba(0,0,0,0.6);
        }
        .lang-switch button {
          background:transparent;
          border:none;
          color:var(--text-dark);
          padding:8px 12px;
          font-weight:700;
          cursor:pointer;
          border-radius:8px;
        }
        .lang-switch button.active{
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color:#012;
          box-shadow: 0 12px 30px rgba(6,168,154,0.12);
        }

        /* container */
        .container{ position:relative; z-index:3; max-width:1400px; margin:0 auto; }

        /* HERO with background video - IMPROVED RESPONSIVENESS */
        .hero-wrap{ 
          position:relative; 
          min-height:100vh; 
          overflow:hidden; 
          display:flex; 
          align-items:center; 
          justify-content: center;
        }

        /* hero content 50/50 */
        .hero{ 
          position:relative; 
          z-index:4; 
          display:flex; 
          gap:34px; 
          align-items:stretch; 
          width:100%; 
          padding:36px 20px; 
          min-height:100vh;
        }
        .col{ flex:0 0 50%; min-width:0; }

        /* left: profile area - IMPROVED RESPONSIVENESS */
        .left{ 
          display:flex; 
          align-items:center; 
          justify-content:center; 
          padding:12px; 
        }
        .profile-frame{ 
          width:100%; 
          max-width:520px; 
          border-radius:16px; 
          overflow: hidden;
          box-shadow: 0 18px 50px rgba(0,0,0,0.5); 
          aspect-ratio: 3/4; /* Fixed aspect ratio */
        }
        .profile-frame img{ 
          width:100%; 
          height:100%; 
          object-fit: cover;
          border-radius:10px; 
          display:block; 
        }

        /* right: info */
        .right{ 
          display:flex; 
          flex-direction:column; 
          justify-content:center; 
          align-items:flex-start; 
          padding:8px 24px; 
          color:#e9fbfb; 
        }
        .name{ 
            font-size:38px; /* Increased from 32px to 38px */
            font-weight:800; 
            color:#fff; 
            transition: all 0.3s ease;
            position: relative;
            display: inline-block;
        }
        
        .name:hover {
            transform: scale(1.05);
            text-shadow: 0 0 10px rgba(127, 227, 255, 0.7),
                         0 0 20px rgba(127, 227, 255, 0.5),
                         0 0 30px rgba(127, 227, 255, 0.3);
        }

        .role{ 
            margin-top:8px; 
            color:#cfeff0; 
            font-weight:600; 
            min-height: 60px; /* Ensure space for typewriter */
            overflow: hidden;
            /* Removed border-right and blink-caret animation */
        }

        /* 3D Animation for Experience Badge - Changed to float only */
        .exp-badge{ 
            margin-top:8px; /* Reduced margin to decrease space */
            padding:12px 22px; 
            border-radius:12px; 
            font-weight:800; 
            background: linear-gradient(180deg,var(--turq-1),var(--turq-2)); 
            color:#012; 
            box-shadow: 0 16px 40px rgba(6,168,154,0.12);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
            100% { transform: translateY(0px); }
        }

        .desc { margin-top:18px; color:#dff7f6; line-height:1.7; font-size:15px; max-width:720px; }

        /* skills with floating animations only */
        .skills-row{ margin-top:22px; display:flex; gap:10px; flex-wrap:wrap; }
        .skill{ 
            display:inline-flex; 
            align-items:center; 
            gap:8px; 
            padding:10px 14px; 
            border-radius:999px; 
            background: linear-gradient(90deg,var(--turq-3),var(--turq-1)); 
            color:#012; 
            font-weight:800; 
            box-shadow: 0 12px 30px rgba(6,168,154,0.12);
            transition: all 0.3s ease;
            animation: float 3s infinite ease-in-out;
        }

        .skill:nth-child(2) { animation-delay: 0.2s; }
        .skill:nth-child(3) { animation-delay: 0.4s; }
        .skill:nth-child(4) { animation-delay: 0.6s; }
        .skill:nth-child(5) { animation-delay: 0.8s; }
        .skill:nth-child(6) { animation-delay: 1s; }
        .skill:nth-child(7) { animation-delay: 1.2s; }
        .skill:nth-child(8) { animation-delay: 1.4s; }
        .skill:nth-child(9) { animation-delay: 1.6s; }
        .skill:nth-child(10) { animation-delay: 1.8s; }
        .skill:nth-child(11) { animation-delay: 2s; }

        .download-row{ margin-top:18px; }
        .download-btn{ 
            padding:12px 20px; 
            border-radius:10px; 
            background: linear-gradient(90deg,var(--turq-1),var(--turq-2)); 
            color:#012; 
            border:none; 
            font-weight:800; 
            cursor:pointer; 
            box-shadow:0 14px 36px rgba(6,168,154,0.14);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(6,168,154,0.3),
                        0 0 15px rgba(127, 227, 255, 0.5);
        }
        
        .download-btn a {
          color: #012;
          text-decoration: none;
        }

        /* Section Separator */
        .section-separator {
          height: 60px;
          background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(3,8,12,0.03));
          width: 100%;
          position: relative;
          z-index: 3;
        }

        /* Trusted Companies Section - ENHANCED LOGOS */
        .companies-section {
          width: 100%;
          padding: 80px 20px;
          background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(3,8,12,0.03));
          position: relative;
          z-index: 3;
        }

        .companies-container {
          max-width: 1400px;
          margin: 0 auto;
          text-align: center;
          position: relative;
          z-index: 3;
        }

        .companies-title {
          font-size: 32px;
          font-weight: 800;
          color: #fff;
          margin-bottom: 10px;
          text-align: center;
        }

        .companies-subtitle {
          font-size: 18px;
          color: #cfeff0;
          margin-bottom: 50px;
          text-align: center;
          font-weight: 600;
        }

        .companies-slider {
          position: relative;
          max-width: 1300px;
          margin: 0 auto;
          overflow: hidden;
          cursor: grab;
        }

        .companies-slider:active {
          cursor: grabbing;
        }

        .companies-track {
          display: flex;
          transition: transform 0.5s ease-in-out;
          gap: 50px;
          touch-action: pan-y;
        }

        .company-logo {
          flex: 0 0 250px;
          height: 160px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #ffffff;
          border-radius: 16px;
          border: 1px solid rgba(0,0,0,0.1);
          padding: 30px;
          transition: all 0.3s ease;
          box-shadow: 0 8px 30px rgba(0,0,0,0.3);
          user-select: none;
          -webkit-user-drag: none;
        }

        .company-logo:hover {
          background: #ffffff;
          transform: translateY(-8px);
          box-shadow: 0 15px 40px rgba(6,168,154,0.2);
        }

        .company-logo img {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          opacity: 0.9;
          transition: all 0.3s ease;
          pointer-events: none;
        }

        .company-logo:hover img {
          opacity: 1;
          transform: scale(1.15);
        }

        .slider-arrow {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background: rgba(255,255,255,0.08);
          border: 1px solid rgba(255,255,255,0.12);
          color: var(--text-dark);
          width: 60px;
          height: 60px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          font-size: 24px;
          font-weight: bold;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .slider-arrow:hover {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
          transform: translateY(-50%) scale(1.1);
        }

        .arrow-left {
          left: -30px;
        }

        .arrow-right {
          right: -30px;
        }

        /* Projects full-width section */
        .projects-section{ 
          width:100%; 
          padding:32px 10px 80px; 
          background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(3,8,12,0.03)); 
          position: relative;
          z-index: 3;
        }
        .projects{ max-width:1400px; margin:0 auto; display:flex; flex-direction:column; gap:28px; }

        /* project card: image left 75% + info right 25% */
        .project-card{ display:flex; width:100%; gap:0; border-radius:12px; overflow:hidden; background:var(--card); min-height:420px; align-items:stretch; box-shadow:0 14px 40px rgba(0,0,0,0.35); }
        .media{ 
          flex:0 0 75%; 
          position:relative; 
          overflow:hidden; 
          min-height:420px; 
          background:#000; 
          cursor: grab;
          user-select: none;
        }
        .media:active {
          cursor: grabbing;
        }
        .media img{ 
          width:100%; 
          height:100%; 
          object-fit:cover; 
          display:block; 
          transition:transform .6s ease;
          pointer-events: none;
        }
        .dots{ position:absolute; bottom:18px; left:50%; transform:translateX(-50%); display:flex; gap:8px; z-index:6; }
        .dot{ width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.36);cursor:pointer;border:2px solid rgba(255,255,255,0.5) }
        .dot.active{ background:white; transform:scale(1.3) }
        
        /* Full screen button for project images */
        .fullscreen-btn {
          position: absolute;
          top: 18px;
          right: 18px;
          background: rgba(0,0,0,0.6);
          border: none;
          color: white;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          z-index: 7;
          transition: all 0.3s ease;
        }
        
        .fullscreen-btn:hover {
          background: rgba(0,0,0,0.8);
          transform: scale(1.1);
        }

        /* Fullscreen modal arrows */
        .fullscreen-arrow {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background: rgba(0,0,0,0.6);
          border: none;
          color: white;
          width: 50px;
          height: 50px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          font-size: 24px;
          z-index: 10;
          transition: all 0.3s ease;
        }
        
        .fullscreen-arrow:hover {
          background: rgba(0,0,0,0.8);
          transform: translateY(-50%) scale(1.1);
        }
        
        .fullscreen-prev {
          left: 20px;
        }
        
        .fullscreen-next {
          right: 20px;
        }

        /* info (right) */
        .pinfo{ flex:1; min-width:260px; padding:28px 30px; display:flex; flex-direction:column; gap:12px; justify-content:flex-start; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); }
        .pnum{ color:#9fdfe9; font-weight:800; letter-spacing:2px; font-size:12px }
        .ptitle{ font-weight:800; font-size:20px; color:#fff }
        .pdesc{ color:#cfeff0; line-height:1.6; font-size:14px }

        /* tools and watch action */
        .tools{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
        .tool{ background: linear-gradient(90deg,var(--turq-2),var(--turq-1)); color:#012; padding:8px 10px; border-radius:10px; font-weight:800 }
        .actions{ margin-top:auto; display:flex; width:100% }
        .watch{ width:100%; padding:12px 14px; border-radius:10px; background:linear-gradient(90deg,var(--turq-1),var(--turq-2)); color:#012; font-weight:900; border:none; cursor:pointer; box-shadow:0 16px 42px rgba(6,168,154,0.12); }

        /* Certificates Section */
        .certificates-section {
          width: 100%;
          padding: 80px 20px;
          background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(3,8,12,0.03));
          position: relative;
          z-index: 3;
        }

        .certificates-container {
          max-width: 1400px;
          margin: 0 auto;
          text-align: center;
          position: relative;
          z-index: 3;
        }

        .certificates-title {
          font-size: 32px;
          font-weight: 800;
          color: #fff;
          margin-bottom: 50px;
          text-align: center;
        }

        .certificates-slider {
          position: relative;
          max-width: 1300px;
          margin: 0 auto;
          overflow: hidden;
          cursor: grab;
        }

        .certificates-slider:active {
          cursor: grabbing;
        }

        .certificates-track {
          display: flex;
          transition: transform 0.5s ease-in-out;
          gap: 30px;
          touch-action: pan-y;
        }

        .certificate-item {
          flex: 0 0 350px;
          height: 450px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-start;
          background: rgba(255,255,255,0.05);
          border-radius: 16px;
          border: 1px solid rgba(255,255,255,0.08);
          padding: 25px;
          transition: all 0.3s ease;
          box-shadow: 0 8px 30px rgba(0,0,0,0.3);
          user-select: none;
          -webkit-user-drag: none;
          cursor: pointer;
        }

        .certificate-item:hover {
          background: rgba(255,255,255,0.08);
          transform: translateY(-8px);
          box-shadow: 0 15px 40px rgba(6,168,154,0.2);
        }

        .certificate-image {
          width: 100%;
          height: 320px;
          border-radius: 12px;
          overflow: hidden;
          margin-bottom: 20px;
          background: #000;
        }

        .certificate-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .certificate-item:hover .certificate-image img {
          transform: scale(1.05);
        }

        .certificate-title {
          color: var(--text-dark);
          font-weight: 700;
          font-size: 18px;
          text-align: center;
          margin-top: auto;
        }

        .certificates-arrow {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background: rgba(255,255,255,0.08);
          border: 1px solid rgba(255,255,255,0.12);
          color: var(--text-dark);
          width: 60px;
          height: 60px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          font-size: 24px;
          font-weight: bold;
          transition: all 0.3s ease;
          z-index: 10;
        }

        .certificates-arrow:hover {
          background: linear-gradient(90deg,var(--turq-1),var(--turq-2));
          color: #012;
          transform: translateY(-50%) scale(1.1);
        }

        .certificates-arrow-left {
          left: -30px;
        }

        .certificates-arrow-right {
          right: -30px;
        }

        /* Certificate Modal - IMPROVED RESPONSIVENESS */
        .certificate-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(2, 16, 25, 0.95);
          z-index: 10002;
          display: none;
          align-items: center;
          justify-content: center;
          padding: 20px;
        }

        .certificate-modal.open {
          display: flex;
        }

        .certificate-modal-content {
          position: relative;
          max-width: 95%;
          max-height: 95%;
          display: flex;
          flex-direction: column;
          background: rgba(2, 16, 25, 0.95);
          border-radius: 16px;
          border: 2px solid var(--turq-1);
          box-shadow: 0 20px 60px rgba(0,0,0,0.8);
          overflow: hidden;
        }

        .certificate-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          background: rgba(2, 16, 25, 0.95);
          border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .certificate-modal-title {
          color: var(--turq-3);
          font-size: 24px;
          font-weight: 700;
          margin: 0;
        }

        .certificate-modal-close {
          background: transparent;
          border: none;
          color: var(--text-dark);
          font-size: 20px;
          cursor: pointer;
          width: 30px;
          height: 30px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .certificate-modal-close:hover {
          background: rgba(255,255,255,0.1);
        }

        .certificate-modal-image-container {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          overflow: auto;
          max-height: calc(100vh - 140px);
        }

        .certificate-modal-image {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          border-radius: 8px;
        }

        /* Full Screen Image Modal */
        .fullscreen-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.9);
          z-index: 10003;
          display: none;
          align-items: center;
          justify-content: center;
          padding: 20px;
        }

        .fullscreen-modal.open {
          display: flex;
        }

        .fullscreen-modal-content {
          position: relative;
          max-width: 95%;
          max-height: 95%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .fullscreen-modal-image {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
        }

        .fullscreen-modal-close {
          position: absolute;
          top: 20px;
          right: 20px;
          background: rgba(0,0,0,0.6);
          border: none;
          color: white;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          font-size: 20px;
          z-index: 10;
          transition: all 0.3s ease;
        }

        .fullscreen-modal-close:hover {
          background: rgba(0,0,0,0.8);
          transform: scale(1.1);
        }

        /* modal */
        .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.72); z-index:9999; padding:18px; }
        .modal.open{ display:flex; }
        .modal-card{ width:94%; max-width:1100px; background:#021019; border-radius:12px; padding:18px; box-shadow:0 30px 80px rgba(0,0,0,0.9); border:1px solid rgba(255,255,255,0.03); }
        .modal-close{ position:absolute; right:18px; top:14px; color:#cfeff0; font-size:26px; cursor:pointer }
        .video-wrap video{ width:100%; height:520px; background:#000; border-radius:8px }

        /* contact modal inputs */
        .contact-form{ display:flex; flex-direction:column; gap:10px; margin-top:12px }
        .contact-form input, .contact-form textarea{ padding:12px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background: rgba(255,255,255,0.02); color:#e9fbfb }

        /* responsive */
        @media (max-width:1100px){
          .hero{ 
            flex-direction:column; 
            gap:18px; 
            min-height:100vh; 
            padding:28px 16px;
            justify-content: flex-start;
            padding-top: 120px;
          }
          .col{ flex:0 0 100% }
          .profile-frame{ 
            width:62%;
            max-width: 400px;
          }
          .project-card{ flex-direction:column }
          .media{ flex:0 0 auto; height:340px }
          .video-wrap video{ height:320px }
          .companies-slider {
            max-width: 90%;
          }
          .slider-arrow {
            width: 50px;
            height: 50px;
            font-size: 20px;
          }
          .arrow-left {
            left: -25px;
          }
          .arrow-right {
            right: -25px;
          }
          .company-logo {
            flex: 0 0 220px;
            height: 140px;
          }
          .certificates-slider {
            max-width: 90%;
          }
          .certificates-arrow {
            width: 50px;
            height: 50px;
            font-size: 20px;
          }
          .certificates-arrow-left {
            left: -25px;
          }
          .certificates-arrow-right {
            right: -25px;
          }
          .certificate-item {
            flex: 0 0 300px;
            height: 400px;
          }
          .certificate-image {
            height: 280px;
          }
          .sidebar-group {
            right: 10px;
            width: 130px;
          }
        }
        @media (max-width:600px){
          .name{ font-size:30px } /* Adjusted for mobile */
          .profile-frame{ 
            width:78%;
            max-width: 300px;
          }
          .media{ height:240px }
          .video-wrap video{ height:220px }
          .lang-switch {
            right: 10px;
            top: 10px;
          }
          .companies-title {
            font-size: 24px;
            margin-bottom: 10px;
          }
          .companies-subtitle {
            font-size: 16px;
            margin-bottom: 40px;
          }
          .company-logo {
            flex: 0 0 180px;
            height: 120px;
            padding: 25px;
          }
          .slider-arrow {
            width: 40px;
            height: 40px;
            font-size: 18px;
          }
          .arrow-left {
            left: -15px;
          }
          .arrow-right {
            right: -15px;
          }
          .certificates-title {
            font-size: 24px;
            margin-bottom: 40px;
          }
          .certificate-item {
            flex: 0 0 250px;
            height: 350px;
          }
          .certificate-image {
            height: 230px;
          }
          .certificates-arrow {
            width: 40px;
            height: 40px;
            font-size: 18px;
          }
          .certificates-arrow-left {
            left: -15px;
          }
          .certificates-arrow-right {
            right: -15px;
          }
          .music-prompt-buttons {
            flex-direction: column;
          }
          .music-prompt-btn {
            min-width: 100%;
          }
          .sidebar-group {
            right: 10px;
            width: 120px;
            top: 60px;
          }
          .sidebar-btn {
            padding: 8px 12px;
            font-size: 14px;
          }
        }

        /* small helper */
        .center{ display:flex; align-items:center; justify-content:center }
    </style>
</head>
<body>

<!-- Loading Screen -->
<div class="loading-screen" id="loadingScreen">
  <div class="loading-content">
    <div class="loading-chart">
      <div class="chart-bar"></div>
      <div class="chart-bar"></div>
      <div class="chart-bar"></div>
      <div class="chart-bar"></div>
      <div class="chart-bar"></div>
      <div class="chart-bar"></div>
    </div>
    <div class="trend-line-container">
      <div class="trend-line"></div>
    </div>
    <div class="loading-text">Loading Experience.....</div>
  </div>
</div>

<!-- Music Auto-play Prompt - MOVED HERE -->
<div id="musicPrompt" class="music-prompt">
  <div class="music-prompt-header">
    <div class="music-prompt-lang">
      <button id="musicPromptEn" class="active">English</button>
      <button id="musicPromptAr">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
    </div>
    <button class="music-prompt-close" onclick="closePromptAndPlayMusic()">‚úï</button>
  </div>
  <h3 id="musicPromptTitle">üéµ Background Music</h3>
  <p id="musicPromptText">Would you like to enable background music for a better experience?</p>
  <div class="music-prompt-buttons">
    <button class="music-prompt-btn" onclick="enableMusic()" id="musicPromptPlayBtn">Play Music</button>
    <button class="music-prompt-btn secondary" onclick="disableMusic()" id="musicPromptDontPlayBtn">Pause Music</button>
  </div>
</div>

<!-- background video (full screen) -->
<video id="bgVideo" class="bg-video" autoplay muted loop playsinline>
  <!-- Replace with your actual background video -->
  <source src="Back_Ground_Video.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
<div class="bg-overlay"></div>

<!-- background audio -->
<audio id="bgMusic" loop>
  <source src="BackGround Music.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- Contact Modal -->
<div id="contactModal" class="contact-modal">
  <div class="contact-modal-header">
    <h3 class="contact-modal-title" id="contactModalTitle">Contact Me</h3>
    <div class="lang-switch" style="position: relative; right: 0; top: 0; background: rgba(255,255,255,0.05);">
      <button id="contactModalEn" class="active">English</button>
      <button id="contactModalAr">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
    </div>
    <button class="contact-modal-close" onclick="closeContactModal()">‚úï</button>
  </div>
  <form class="contact-form" id="contactForm">
    <div class="form-group">
      <label class="form-label" for="contactName" id="contactNameLabel">Name</label>
      <input type="text" id="contactName" class="form-input" required>
    </div>
    <div class="form-group">
      <label class="form-label" for="contactEmail" id="contactEmailLabel">Email</label>
      <input type="email" id="contactEmail" class="form-input" required>
    </div>
    <div class="form-group">
      <label class="form-label" for="contactMobile" id="contactMobileLabel">Mobile</label>
      <input type="tel" id="contactMobile" class="form-input" required>
    </div>
    <div class="form-group">
      <label class="form-label" for="contactSubject" id="contactSubjectLabel">Subject</label>
      <input type="text" id="contactSubject" class="form-input" required>
    </div>
    <div class="form-group">
      <label class="form-label" for="contactMessage" id="contactMessageLabel">Message</label>
      <textarea id="contactMessage" class="form-textarea" required></textarea>
    </div>
    <button type="submit" class="form-submit" id="contactSubmitBtn">Send Message</button>
  </form>
</div>

<!-- Success Message -->
<div id="successMessage" class="success-message">
  <h3 id="successTitle">Message Sent Successfully!</h3>
  <p id="successText">Thank you for your message. I will get back to you as soon as possible.</p>
  <button onclick="closeSuccessMessage()" id="successButton">OK</button>
</div>

<!-- Certificate Modal - IMPROVED -->
<div id="certificateModal" class="certificate-modal">
  <div class="certificate-modal-content">
    <div class="certificate-modal-header">
      <h3 class="certificate-modal-title" id="certificateModalTitle">Certificate Title</h3>
      <button class="certificate-modal-close" onclick="closeCertificateModal()">‚úï</button>
    </div>
    <div class="certificate-modal-image-container">
      <img id="certificateModalImage" class="certificate-modal-image" src="" alt="Certificate">
    </div>
  </div>
</div>

<!-- Full Screen Image Modal -->
<div id="fullscreenModal" class="fullscreen-modal">
  <button class="fullscreen-modal-close" onclick="closeFullscreenModal()">‚úï</button>
  <button class="fullscreen-arrow fullscreen-prev" onclick="prevFullscreenImage()">‚ùÆ</button>
  <button class="fullscreen-arrow fullscreen-next" onclick="nextFullscreenImage()">‚ùØ</button>
  <div class="fullscreen-modal-content">
    <img id="fullscreenModalImage" class="fullscreen-modal-image" src="" alt="Full Screen Image">
  </div>
</div>

<!-- language switch -->
<div class="lang-switch" aria-hidden="false">
  <button id="btn-en" class="active">English</button>
  <button id="btn-ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
</div>

<!-- Sidebar Group - All buttons same size and responsive -->
<div class="sidebar-group">
  <!-- LinkedIn Button -->
  <div class="sidebar-btn linkedin-btn">
    <a href="https://www.linkedin.com/in/samimouradfarid/" target="_blank" rel="noopener noreferrer">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
      </svg>
      LinkedIn
    </a>
  </div>

<!-- Contact Button -->
<div class="sidebar-btn contact-btn" id="contactButton">
    <a href="#" onclick="openContactModal(event)">
        <span id="contactText">Contact Me</span>
    </a>
</div>

  <!-- Music Control Button -->
  <div class="sidebar-btn music-control" id="musicControl">
    <a href="#" onclick="toggleMusic(event)">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
      </svg>
      <span id="musicText">Play Music</span>
    </a>
  </div>
</div>

<!-- main content -->
<div class="container">

  <!-- HERO -->
  <section class="hero-wrap">
    <div class="hero">
      <div class="col left">
        <div class="profile-frame">
          <!-- Profile image - using placeholder for demo -->
          <img src="1.png" alt="Profile image" id="profileImage">
        </div>
      </div>

      <div class="col right">
        <div class="name">Sami Mourad Farid</div>
        <div class="role" id="typewriter">Business Intelligence Analyst</div>

        <div class="exp-badge">‚≠ê 4+ Years of Experience</div>

        <!-- DESCRIPTION: this is the text that will toggle between EN/AR -->
        <div class="desc" id="heroDesc" data-en="Transforming raw data into actionable business insights via dashboards, analytics and automation. I build robust ETL pipelines, interactive Power BI reports, and scalable data solutions that drive business outcomes."
             data-ar="ÿ™ÿ≠ŸàŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿÆÿßŸÖ ÿ•ŸÑŸâ ÿ±ÿ§Ÿâ ÿπŸÖŸÑŸäÿ© ÿπÿ®ÿ± ŸÑŸàÿ≠ÿßÿ™ ÿπÿ±ÿ∂ ÿ™ŸÅÿßÿπŸÑŸäÿ©ÿå ÿ™ÿ≠ŸÑŸäŸÑ ÿ™ŸÜÿ®ÿ§Ÿäÿå Ÿàÿ£ÿ™ŸÖÿ™ÿ© ÿ™ŸÇÿßÿ±Ÿäÿ±. ÿ£ÿ®ŸÜŸä ÿ£ŸÜÿ∏ŸÖÿ© ETL ŸÇŸàŸäÿ©ÿå ÿ™ŸÇÿßÿ±Ÿäÿ± Power BI ÿ™ŸÅÿßÿπŸÑŸäÿ©ÿå Ÿàÿ≠ŸÑŸàŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿßÿ®ŸÑÿ© ŸÑŸÑÿ™Ÿàÿ≥ÿπ ÿ™ÿØÿπŸÖ ÿßÿ™ÿÆÿßÿ∞ ÿßŸÑŸÇÿ±ÿßÿ±.">
          Transforming raw data into actionable business insights via dashboards, analytics and automation. I build robust ETL pipelines, interactive Power BI reports, and scalable data solutions that drive business outcomes.
        </div>

        <div class="skills-row">
          <div class="skill">Excel</div>
          <div class="skill">SQL</div>
          <div class="skill">Python</div>
          <div class="skill">Power Query</div>
          <div class="skill">Dax</div>
          <div class="skill">M Language</div>
          <div class="skill">ETL</div>
          <div class="skill">Automation</div>
          <div class="skill">Power BI</div>
          <div class="skill">Power Point</div>
          <div class="skill">Data Visualization</div>
          <div class="skill">Six Sigma Approch</div>
        </div>

        <div class="download-row">
          <button class="download-btn">üìÑ <a href="https://drive.google.com/file/d/1gSomBnIsCwlU2M80Kst6OSMTR8Fcrym_/view?usp=sharing" target="_blank"> Explore & Download Resume </a></button>
        </div>
      </div>
    </div>
  </section>

</div> <!-- /container -->

<!-- Section Separator -->
<div class="section-separator"></div>

<!-- Trusted Companies Section -->
<section class="companies-section">
  <div class="companies-container">
    <h2 class="companies-title">Trusted Companies</h2>
    <div class="companies-subtitle" id="companiesSubtitle" data-en="Companies I've worked with and contributed to"
         data-ar="ÿßŸÑÿ¥ÿ±ŸÉÿßÿ™ ÿßŸÑÿ™Ÿä ÿπŸÖŸÑÿ™ ŸÖÿπŸáÿß Ÿàÿ≥ÿßŸáŸÖÿ™ ŸÅŸäŸáÿß">Companies I've worked with and contributed to</div>
    <div class="companies-slider">
      <button class="slider-arrow arrow-left" onclick="slideLeft()">‚ùÆ</button>
      <div class="companies-track" id="companiesTrack">
        <!-- Company logos will be added here by JavaScript -->
      </div>
      <button class="slider-arrow arrow-right" onclick="slideRight()">‚ùØ</button>
    </div>
  </div>
</section>

<!-- Projects section -->
<section class="projects-section" id="projectsSection">
  <div class="projects">

    <!-- Project 1 -->
    <article class="project-card">
      <div class="media">
        <img src="P11.png" alt="proj1" data-slides='["P11.png","P12.png","P15.png"]'>
        <div class="dots"></div>
        <button class="fullscreen-btn" onclick="openFullscreenModal('P11.png', this)">‚õ∂</button>
      </div>
      <div class="pinfo">
        <div class="pnum">PROJECT 01</div>
        <div class="ptitle">ECOMMERCE SALES DASHBOARD</div>
        <div class="pdesc" data-en="Yearly sales tracking with predictive insights, regional breakdowns and automated reporting pipelines."
             data-ar="ŸÑŸàÿ≠ÿ© ŸÖÿ™ÿßÿ®ÿπÿ© ŸÖÿ®Ÿäÿπÿßÿ™ ŸÅŸàÿ±Ÿäÿ© ŸÖÿπ ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿ™ŸÜÿ®ÿ§Ÿäÿ©ÿå ÿ™ŸÇÿ≥ŸäŸÖ ÿ•ŸÇŸÑŸäŸÖŸäÿå Ÿàÿ£ŸÜÿßÿ®Ÿäÿ® ÿ™ŸÇÿßÿ±Ÿäÿ± ÿ¢ŸÑŸäÿ©.">
          Yearly salessales tracking with predictive insights, regional breakdowns and automated reporting pipelines.
        </div>

        <div class="tools">
          <div class="tool">Power BI</div>
          <div class="tool">DAX</div>
          <div class="tool">Power Query</div>
          <div class="tool">SQL</div>
            <div class="tool">M Language</div>
        </div>

        <div class="actions">
          <button class="watch" data-video="P1VideoFinal.mp4">‚ñ∂ Watch Video</button>
        </div>
      </div>
    </article>

    <!-- Project 2 -->
    <article class="project-card">
      <div class="media">
        <img src="P21.png" alt="proj2" data-slides='["P21.png","P22.png","P23.png"]'>
        <div class="dots"></div>
        <button class="fullscreen-btn" onclick="openFullscreenModal('P21.png', this)">‚õ∂</button>
      </div>
      <div class="pinfo">
        <div class="pnum">PROJECT 02</div>
        <div class="ptitle">CAR Sales DASHBOARD</div>
        <div class="pdesc" data-en="Car Sales Performance Dashboard: A comprehensive, dark-themed Power BI (or similar tool) dashboard offering an Overview of Year-to-Date (YTD) sales, volume, and average price. It highlights a 23.59% sales growth and provides deep dives into dealer regional performance, weekly trends, and sales distribution by vehicle color and body style."
             data-ar="ŸÑŸàÿ≠ÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ£ÿØÿßÿ° ŸÖÿ®Ÿäÿπÿßÿ™ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™: ŸÑŸàÿ≠ÿ© ÿ¥ÿßŸÖŸÑÿ© ÿ∞ÿßÿ™ ÿ™ÿµŸÖŸäŸÖ ÿØÿßŸÉŸÜ (ÿ®Ÿàÿßÿ≥ÿ∑ÿ© Power BI ÿ£Ÿà ÿ£ÿØÿßÿ© ŸÖÿ¥ÿßÿ®Ÿáÿ©) ÿ™ŸÇÿØŸÖ ŸÜÿ∏ÿ±ÿ© ÿπÿßŸÖÿ© ÿπŸÑŸâ ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ÿå ÿßŸÑÿ≠ÿ¨ŸÖÿå ŸàŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ≥ÿπÿ± ŸÖŸÜ ÿ®ÿØÿßŸäÿ© ÿßŸÑÿπÿßŸÖ. ÿ™Ÿèÿ∏Ÿáÿ± ŸÜŸÖŸàŸãÿß ŸÅŸä ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ ÿ®ŸÜÿ≥ÿ®ÿ© 23.59% Ÿàÿ™ŸàŸÅÿ± ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿ™ŸÅÿµŸäŸÑŸäÿ© ŸÑŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ•ŸÇŸÑŸäŸÖŸä ŸÑŸÑÿ™ÿ¨ÿßÿ±ÿå ŸàÿßŸÑÿßÿ™ÿ¨ÿßŸáÿßÿ™ ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸäÿ©ÿå Ÿàÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ ÿ≠ÿ≥ÿ® ŸÑŸàŸÜ ŸàŸÜŸàÿπ ŸáŸäŸÉŸÑ ÿßŸÑŸÖÿ±ŸÉÿ®ÿ©..">
          Car Sales Performance Dashboard: A comprehensive, dark-themed Power BI (or similar tool) dashboard offering an "Overview" of Year-to-Date (YTD) sales, volume, and average price. It highlights a 23.59% sales growth and provides deep dives into dealer regional performance, weekly trends, and sales distribution by vehicle color and body style..
        </div>

        <div class="tools">
          <div class="tool">Power BI</div>
          <div class="tool">DAX</div>
          <div class="tool">Power Query</div>
          <div class="tool">SQL</div>
            <div class="tool">M Language</div>
        </div>

        <div class="actions">
          <button class="watch" data-video="P2 Video Final.mp4">‚ñ∂ Watch Video</button>
        </div>
      </div>
    </article>

    <!-- Project 3 -->
    <article class="project-card">
      <div class="media">
        <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1600&q=80" alt="proj3" data-slides='["https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1600&q=80","https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=1600&q=80"]'>
        <div class="dots"></div>
        <button class="fullscreen-btn" onclick="openFullscreenModal('https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1600&q=80', this)">‚õ∂</button>
      </div>
      <div class="pinfo">
        <div class="pnum">PROJECT 03</div>
        <div class="ptitle">Financial Performance & Budget Tracking</div>
        <div class="pdesc" data-en="Variance analysis, budget forecasting and automated alerts for finance teams."
             data-ar="ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑŸÅÿ±ŸàŸÇÿßÿ™ÿå ÿ™ŸàŸÇÿπÿßÿ™ ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©ÿå Ÿàÿ™ŸÜÿ®ŸäŸáÿßÿ™ ÿ¢ŸÑŸäÿ© ŸÑŸÅŸêÿ±ŸéŸÇ ÿßŸÑŸÖÿßŸÑŸäÿ©.">
          Variance analysis, budget forecasting and automated alerts for finance teams.
        </div>

        <div class="tools">
          <div class="tool">Power BI</div>
          <div class="tool">Excel</div>
          <div class="tool">Power Query</div>
        </div>

        <div class="actions">
          <button class="watch" data-video="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4">‚ñ∂ Watch Video</button>
        </div>
      </div>
    </article>

    <!-- Project 4 -->
    <article class="project-card">
      <div class="media">
        <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1600&q=80" alt="proj4" data-slides='["https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1600&q=80","https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=1600&q=80"]'>
        <div class="dots"></div>
        <button class="fullscreen-btn" onclick="openFullscreenModal('https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1600&q=80', this)">‚õ∂</button>
      </div>
      <div class="pinfo">
        <div class="pnum">PROJECT 04</div>
        <div class="ptitle">Supply Chain & Inventory Optimization</div>
        <div class="pdesc" data-en="Demand forecasting and replenishment automation to reduce stockouts and optimize costs."
             data-ar="ÿ™ŸÜÿ®ÿ§ ÿßŸÑÿ∑ŸÑÿ® Ÿàÿ£ÿ™ŸÖÿ™ÿ© ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ≤ŸàŸäÿØ ŸÑÿ™ŸÇŸÑŸäŸÑ ŸÜŸÅÿßÿØ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ Ÿàÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ™ŸÉÿßŸÑŸäŸÅ.">
          Demand forecasting and replenishment automation to reduce stockouts and optimize costs.
        </div>

        <div class="tools">
          <div class="tool">Tableau</div>
          <div class="tool">Python</div>
          <div class="tool">Forecasting</div>
        </div>

        <div class="actions">
          <button class="watch" data-video="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4">‚ñ∂ Watch Video</button>
        </div>
      </div>
    </article>

    <!-- Project 5 -->
    <article class="project-card">
      <div class="media">
        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1600&q=80" alt="proj5" data-slides='["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1600&q=80","https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1600&q=80"]'>
        <div class="dots"></div>
        <button class="fullscreen-btn" onclick="openFullscreenModal('https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1600&q=80', this)">‚õ∂</button>
      </div>
      <div class="pinfo">
        <div class="pnum">PROJECT 05</div>
        <div class="ptitle">HR Analytics & Workforce Intelligence</div>
        <div class="pdesc" data-en="Monitoring employee performance, turnover analysis and recruitment metrics dashboards."
             data-ar="ŸÖÿ±ÿßŸÇÿ®ÿ© ÿ£ÿØÿßÿ° ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜÿå ÿ™ÿ≠ŸÑŸäŸÑ ŸÖÿπÿØŸÑ ÿßŸÑÿØŸàÿ±ÿßŸÜÿå ŸàŸÑŸàÿ≠ÿßÿ™ ŸÖŸÇÿßŸäŸäÿ≥ ÿßŸÑÿ™Ÿàÿ∏ŸäŸÅ.">
          Monitoring employee performance, turnover analysis and recruitment metrics dashboards.
        </div>

        <div class="tools">
          <div class="tool">Power BI</div>
          <div class="tool">SQL</div>
          <div class="tool">Predictive</div>
        </div>

        <div class="actions">
          <button class="watch" data-video="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4">‚ñ∂ Watch Video</button>
        </div>
      </div>
    </article>

  </div>
</section>

<!-- Certificates Section -->
<section class="certificates-section">
  <div class="certificates-container">
    <h2 class="certificates-title" id="certificatesTitle" data-en="Certificates"
        data-ar="ÿßŸÑÿ¥ŸáÿßÿØÿßÿ™">Certificates</h2>
    <div class="certificates-slider">
      <button class="certificates-arrow certificates-arrow-left" onclick="slideCertificatesLeft()">‚ùÆ</button>
      <div class="certificates-track" id="certificatesTrack">
        <!-- Certificate items will be added here by JavaScript -->
      </div>
      <button class="certificates-arrow certificates-arrow-right" onclick="slideCertificatesRight()">‚ùØ</button>
    </div>
  </div>
</section>

<!-- footer -->
<footer style="padding:28px 10px; text-align:center; color:#cfeff0; position:relative; z-index:3;">
  <div style="max-width:1400px; margin:0 auto;">¬© <strong>Sami Mourad Farid - samimouradfarid@gmail.com - +20 0122 44 81 456 - @ All rights reserved</strong></div>
</footer>

<!-- VIDEO MODAL -->
<div id="videoModal" class="modal" aria-hidden="true">
  <div class="modal-card">
    <div style="display:flex; justify-content:space-between; align-items:center">
      <strong style="font-size:18px; color:#bff3f6">Project Video</strong>
      <span class="modal-close" onclick="closeVideo()">‚úï</span>
    </div>
    <div class="video-wrap" style="margin-top:12px">
      <video id="modalVideoPlayer" controls controlsList="nodownload" style="width:100%;height:520px;background:#000;border-radius:8px">
        <source id="modalVideoSrc" src="" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>
</div>

<script>
// Initialize EmailJS with proper error handling
document.addEventListener('DOMContentLoaded', function() {
  emailjs.init("fZM94KjzGpP7pJJmE");
  console.log("EmailJS initialized");
});

// Companies data - using online image URLs that will work
const companies = [
    { name: 'Giza Systems', logo: 'Giza Systems.png' },
    { name: 'STC', logo: 'STC Logo.png' },
    { name: 'Upsource', logo: 'UpSource Logo.png' },
    { name: 'Mashreq Bank', logo: 'Mashreq Bank Logo.jpg' },
    { name: 'Etisalat by e&', logo: 'Etisalat.png' },
    { name: 'OSN', logo: 'OSN Logo.png' },
    { name: 'Xceed', logo: 'xceed logo.png' },
    { name: 'Raya', logo: 'Raya Logo.png' },
    { name: 'Bigo', logo: 'Bigo Logo.png' },  
];

// Certificates data
const certificates = [
    { 
        title: "Mashreq Bank Experiance Letter", 
        image: "Mashreq CR.jpg",
        titleAr: "ÿ¥ŸáÿßÿØÿ© ÿÆÿ®ÿ±ÿ© ŸÖŸÜ ÿ®ŸÜŸÉ ÿßŸÑŸÖÿ¥ÿ±ŸÇ"
    },
    { 
        title: "e& Etisalat Experiance Letter", 
        image: "Etisalat CR.jpg",
        titleAr: "e& ÿ¥ŸáÿßÿØÿ© ÿÆÿ®ÿ±ÿ© ŸÖŸÜ ÿ¥ÿ±ŸÉÿ© ÿßÿ™ÿµÿßŸÑÿßÿ™ "
    },
    { 
        title: "Linkedin : SQL: Data Reporting and Analysis (2025) ", 
        image: "Linkedin CR.jpg",
        titleAr: "SQL ŸÖŸÜ ŸÑŸäŸÜŸÉÿØ ÿßŸÜ (2025)"
    },
    { 
        title: "Udemy : The Ultimate MySQL Bootcamp (2025)", 
        image: "Udimy CR Ultimate.jpg",
        titleAr: "Udemy MySql (2025) ÿ¥ŸáÿßÿØÿ© ŸÅŸä"
    },
    { 
        title: "Udemy : Essential Statistics for Data (2024)", 
        image: "Udimy CR Statistics.jpg",
        titleAr: "Udemy (2025) ÿ¥ŸáÿßÿØÿ© ŸÅŸä ÿßŸÑÿ≠ÿµÿßÿ° ŸÖŸÜ"
    },
    { 
        title: "Udemy: SQL for Data Analysis (2024)", 
        image: "Udimy CR Data.jpg",
        titleAr: "Udemy (2025) ÿ¥ŸáÿßÿØÿ© ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ"
    }
];

let currentSlide = 0;
let maxSlides = 0;
let currentCertSlide = 0;
let maxCertSlides = 0;

// Background music control
const bgMusic = document.getElementById('bgMusic');
const musicControl = document.getElementById('musicControl');
const musicText = document.getElementById('musicText');
const musicPrompt = document.getElementById('musicPrompt');
const loadingScreen = document.getElementById('loadingScreen');
const fullscreenModal = document.getElementById('fullscreenModal');
let musicPlaying = false;
let musicPromptLanguage = 'en';

// Contact modal elements
const contactModal = document.getElementById('contactModal');
const contactForm = document.getElementById('contactForm');
const contactText = document.getElementById('contactText');
const successMessage = document.getElementById('successMessage');
const certificateModal = document.getElementById('certificateModal');

// Fullscreen modal variables
let currentFullscreenImageIndex = 0;
let currentFullscreenImages = [];

// Contact modal translations
const contactTranslations = {
  en: {
    contactBtn: "Contact Me",
    modalTitle: "Contact Me",
    nameLabel: "Name",
    emailLabel: "Email",
    mobileLabel: "Mobile",
    subjectLabel: "Subject",
    messageLabel: "Message",
    submitBtn: "Send Message",
    successTitle: "Message Sent Successfully!",
    successText: "Thank you for your message. I will get back to you as soon as possible.",
    successButton: "OK"
  },
  ar: {
    contactBtn: "ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸä",
    modalTitle: "ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸä",
    nameLabel: "ÿßŸÑÿßÿ≥ŸÖ",
    emailLabel: "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",
    mobileLabel: "ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ",
    subjectLabel: "ÿßŸÑŸÖŸàÿ∂Ÿàÿπ",
    messageLabel: "ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©",
    submitBtn: "ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©",
    successTitle: "ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿ®ŸÜÿ¨ÿßÿ≠!",
    successText: "ÿ¥ŸÉÿ±Ÿãÿß ŸÑŸÉ ÿπŸÑŸâ ÿ±ÿ≥ÿßŸÑÿ™ŸÉ. ÿ≥ÿ£ÿπŸàÿØ ÿ•ŸÑŸäŸÉ ŸÅŸä ÿ£ŸÇÿ±ÿ® ŸàŸÇÿ™ ŸÖŸÖŸÉŸÜ.",
    successButton: "ŸÖŸàÿßŸÅŸÇ"
  }
};

// Music prompt translations
const musicPromptTranslations = {
  en: {
    title: "üéµ Background Music",
    text: "Would you like to enable background music for a better experience?",
    playBtn: "Play Music",
    dontPlayBtn: "Pause Music"
  },
  ar: {
    title: "üéµ ŸÖŸàÿ≥ŸäŸÇŸâ ÿßŸÑÿÆŸÑŸÅŸäÿ©",
    text: "ŸáŸÑ ÿ™ÿ±ÿ∫ÿ® ŸÅŸä ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ ÿßŸÑÿÆŸÑŸÅŸäÿ© ŸÑÿ™ÿ¨ÿ±ÿ®ÿ© ÿ£ŸÅÿ∂ŸÑÿü",
    playBtn: "ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ",
    dontPlayBtn: "ŸÑÿß ÿ™ÿ¥ÿ∫ŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ"
  }
};

// Typewriter effect for role section - Modified to remove cursor and keep text longer
function initTypewriter() {
    const titles = [
        "Business Intelligence Analyst",
        "Senior Data Analyst", 
        "Senior MIS Specialist"
    ];
    
    const typewriterElement = document.getElementById('typewriter');
    let titleIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    let typingSpeed = 100;
    
    function typeWriter() {
        const currentTitle = titles[titleIndex];
        
        if (isDeleting) {
            typewriterElement.textContent = currentTitle.substring(0, charIndex - 1);
            charIndex--;
            typingSpeed = 50;
        } else {
            typewriterElement.textContent = currentTitle.substring(0, charIndex + 1);
            charIndex++;
            typingSpeed = 100;
        }
        
        if (!isDeleting && charIndex === currentTitle.length) {
            typingSpeed = 3000; // Keep text for 3 seconds (1 second extra)
            isDeleting = true;
        } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            titleIndex = (titleIndex + 1) % titles.length;
            typingSpeed = 500;
        }
        
        setTimeout(typeWriter, typingSpeed);
    }
    
    // Start typewriter after page loads
    setTimeout(typeWriter, 1000);
}

// Check if music prompt has been shown before
function hasMusicPromptBeenShown() {
  return localStorage.getItem('musicPromptShown') === 'true';
}

// Mark music prompt as shown
function markMusicPromptAsShown() {
  localStorage.setItem('musicPromptShown', 'true');
}

// Update contact modal language
function updateContactLanguage(lang) {
  const translations = contactTranslations[lang];
  
  contactText.textContent = translations.contactBtn;
  document.getElementById('contactModalTitle').textContent = translations.modalTitle;
  document.getElementById('contactNameLabel').textContent = translations.nameLabel;
  document.getElementById('contactEmailLabel').textContent = translations.emailLabel;
  document.getElementById('contactMobileLabel').textContent = translations.mobileLabel;
  document.getElementById('contactSubjectLabel').textContent = translations.subjectLabel;
  document.getElementById('contactMessageLabel').textContent = translations.messageLabel;
  document.getElementById('contactSubmitBtn').textContent = translations.submitBtn;
  document.getElementById('successTitle').textContent = translations.successTitle;
  document.getElementById('successText').textContent = translations.successText;
  document.getElementById('successButton').textContent = translations.successButton;
}

// Update music prompt language
function updateMusicPromptLanguage(lang) {
  musicPromptLanguage = lang;
  const translations = musicPromptTranslations[lang];
  
  document.getElementById('musicPromptTitle').textContent = translations.title;
  document.getElementById('musicPromptText').textContent = translations.text;
  document.getElementById('musicPromptPlayBtn').textContent = translations.playBtn;
  document.getElementById('musicPromptDontPlayBtn').textContent = translations.dontPlayBtn;
  
  // Update active language button
  document.getElementById('musicPromptEn').classList.toggle('active', lang === 'en');
  document.getElementById('musicPromptAr').classList.toggle('active', lang === 'ar');
}

// Open contact modal
function openContactModal(e) {
  e.preventDefault();
  contactModal.classList.add('open');
}

// Close contact modal
function closeContactModal() {
  contactModal.classList.remove('open');
  contactForm.reset();
}

// Close success message
function closeSuccessMessage() {
  successMessage.classList.remove('open');
}

// Open certificate modal
function openCertificateModal(title, image, lang) {
  document.getElementById('certificateModalTitle').textContent = title;
  document.getElementById('certificateModalImage').src = image;
  certificateModal.classList.add('open');
}

// Close certificate modal
function closeCertificateModal() {
  certificateModal.classList.remove('open');
}

// Open fullscreen modal with navigation arrows
function openFullscreenModal(imageSrc, buttonElement) {
  const mediaElement = buttonElement.closest('.media');
  const imgElement = mediaElement.querySelector('img');
  const slides = JSON.parse(imgElement.getAttribute('data-slides') || '[]');
  
  currentFullscreenImages = slides.length > 0 ? slides : [imageSrc];
  currentFullscreenImageIndex = currentFullscreenImages.indexOf(imageSrc);
  
  document.getElementById('fullscreenModalImage').src = imageSrc;
  fullscreenModal.classList.add('open');
}

// Close fullscreen modal
function closeFullscreenModal() {
  fullscreenModal.classList.remove('open');
}

// Navigate to previous image in fullscreen mode
function prevFullscreenImage() {
  if (currentFullscreenImages.length === 0) return;
  
  currentFullscreenImageIndex = (currentFullscreenImageIndex - 1 + currentFullscreenImages.length) % currentFullscreenImages.length;
  document.getElementById('fullscreenModalImage').src = currentFullscreenImages[currentFullscreenImageIndex];
}

// Navigate to next image in fullscreen mode
function nextFullscreenImage() {
  if (currentFullscreenImages.length === 0) return;
  
  currentFullscreenImageIndex = (currentFullscreenImageIndex + 1) % currentFullscreenImages.length;
  document.getElementById('fullscreenModalImage').src = currentFullscreenImages[currentFullscreenImageIndex];
}

// Handle contact form submission - FIXED VERSION
contactForm.addEventListener('submit', function(e) {
  e.preventDefault();
  
  const submitBtn = document.getElementById('contactSubmitBtn');
  const originalText = submitBtn.textContent;
  
  // Disable button and show loading state
  submitBtn.disabled = true;
  submitBtn.textContent = 'Sending...';
  
  // Get form data
  const formData = {
    name: document.getElementById('contactName').value,
    email: document.getElementById('contactEmail').value,
    mobile: document.getElementById('contactMobile').value,
    subject: document.getElementById('contactSubject').value,
    message: document.getElementById('contactMessage').value,
    time: new Date().toLocaleString()
  };
  
  console.log('Sending form data:', formData);
  
  // Send email using EmailJS with better error handling
  emailjs.send('service_nwqbdqp', 'template_dmv1qle', formData)
    .then(function(response) {
      console.log('SUCCESS!', response.status, response.text);
      
      // Close contact modal and show success message
      closeContactModal();
      successMessage.classList.add('open');
      
      // Reset button
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
    }, function(error) {
      console.log('FAILED...', error);
      alert('Failed to send message. Please check console for details and try again later.');
      
      // Reset button
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
    });
});

// Close prompt and play music (for X button)
function closePromptAndPlayMusic() {
  musicPrompt.style.display = 'none';
  markMusicPromptAsShown();
  enableMusic();
}

// Enable music when user clicks "Play Music"
function enableMusic() {
  musicPrompt.style.display = 'none';
  markMusicPromptAsShown();
  
  // First try to play with muted to satisfy autoplay policies
  bgMusic.muted = true;
  bgMusic.play().then(() => {
    // Success! Now unmute and continue
    bgMusic.muted = false;
    musicPlaying = true;
    musicText.textContent = musicPromptLanguage === 'en' ? 'Pause Music' : 'ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
    console.log('Music started successfully');
  }).catch(error => {
    console.log('Music autoplay failed, trying fallback:', error);
    // Fallback: user interaction might be required
    musicText.textContent = musicPromptLanguage === 'en' ? 'Play Music' : 'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
    musicPlaying = false;
  });
}

// Disable music when user clicks "Don't Play Music"
function disableMusic() {
  musicPrompt.style.display = 'none';
  markMusicPromptAsShown();
  // Keep the music control button visible but don't start music
  musicText.textContent = musicPromptLanguage === 'en' ? 'Play Music' : 'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
  musicPlaying = false;
}

function toggleMusic(e) {
  e.preventDefault();
  
  if (musicPlaying) {
    bgMusic.pause();
    musicText.textContent = musicPromptLanguage === 'en' ? 'Play Music' : 'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
    musicPlaying = false;
  } else {
    bgMusic.play().catch(err => {
      console.log('Audio play failed:', err);
    });
    musicText.textContent = musicPromptLanguage === 'en' ? 'Pause Music' : 'ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
    musicPlaying = true;
  }
}

// Wait for video and audio to load before showing content
window.addEventListener('load', function() {
  const bgVideo = document.getElementById('bgVideo');
  const bgAudio = document.getElementById('bgMusic');
  
  // Check if video and audio are loaded
  let videoLoaded = bgVideo.readyState >= 3; // HAVE_FUTURE_DATA
  let audioLoaded = bgAudio.readyState >= 3;
  
  function checkResourcesLoaded() {
    if (videoLoaded && audioLoaded) {
      // Hide loading screen after a short delay
      setTimeout(() => {
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
          // Initialize typewriter effect
          initTypewriter();
          
          // SHOW MUSIC PROMPT ONLY AFTER LOADING SCREEN DISAPPEARS
          if (!hasMusicPromptBeenShown()) {
            musicPrompt.style.display = 'block';
          }
        }, 500);
      }, 1000);
    }
  }
  
  // If video is already loaded
  if (videoLoaded) {
    console.log('Video loaded');
  } else {
    bgVideo.addEventListener('canplaythrough', function() {
      videoLoaded = true;
      console.log('Video can play through');
      checkResourcesLoaded();
    });
  }
  
  // If audio is already loaded
  if (audioLoaded) {
    console.log('Audio loaded');
  } else {
    bgAudio.addEventListener('canplaythrough', function() {
      audioLoaded = true;
      console.log('Audio can play through');
      checkResourcesLoaded();
    });
  }
  
  // Fallback: if resources take too long, show content anyway
  setTimeout(() => {
    if (loadingScreen.style.display !== 'none') {
      loadingScreen.style.opacity = '0';
      setTimeout(() => {
        loadingScreen.style.display = 'none';
        // Initialize typewriter effect
        initTypewriter();
        
        // SHOW MUSIC PROMPT ONLY AFTER LOADING SCREEN DISAPPEARS (FALLBACK)
        if (!hasMusicPromptBeenShown()) {
          musicPrompt.style.display = 'block';
        }
      }, 500);
    }
  }, 5000); // Show after 5 seconds max
});

// Initialize companies slider
function initCompaniesSlider() {
  const track = document.getElementById('companiesTrack');
  
  companies.forEach(company => {
    const logoDiv = document.createElement('div');
    logoDiv.className = 'company-logo';
    
    // Create image
    const img = document.createElement('img');
    img.src = company.logo;
    img.alt = company.name;
    img.title = company.name;
    
    // Add error handling to debug missing images
    img.onerror = function() {
      console.error('‚ùå Failed to load logo:', company.logo);
      // Create fallback with company name
      this.style.display = 'none';
      const fallback = document.createElement('div');
      fallback.style.color = '#fff';
      fallback.style.fontSize = '16px';
      fallback.style.fontWeight = 'bold';
      fallback.style.textAlign = 'center';
      fallback.style.width = '100%';
      fallback.textContent = company.name;
      logoDiv.appendChild(fallback);
    };
    
    img.onload = function() {
      console.log('‚úÖ Successfully loaded:', company.logo);
    };
    
    logoDiv.appendChild(img);
    track.appendChild(logoDiv);
  });
  
  // Calculate max slides after logos are loaded
  setTimeout(() => {
    const logos = track.querySelectorAll('.company-logo');
    const visibleLogos = Math.floor(track.parentElement.offsetWidth / (logos[0].offsetWidth + 50));
    maxSlides = Math.max(0, logos.length - visibleLogos);
  }, 100);
}

// Initialize certificates slider
function initCertificatesSlider() {
  const track = document.getElementById('certificatesTrack');
  
  certificates.forEach(certificate => {
    const certDiv = document.createElement('div');
    certDiv.className = 'certificate-item';
    
    // Create image container
    const imageDiv = document.createElement('div');
    imageDiv.className = 'certificate-image';
    
    // Create image
    const img = document.createElement('img');
    img.src = certificate.image;
    img.alt = certificate.title;
    
    // Add error handling to debug missing images
    img.onerror = function() {
      console.error('‚ùå Failed to load certificate image:', certificate.image);
    };
    
    img.onload = function() {
      console.log('‚úÖ Successfully loaded certificate:', certificate.title);
    };
    
    imageDiv.appendChild(img);
    
    // Create title
    const titleDiv = document.createElement('div');
    titleDiv.className = 'certificate-title';
    titleDiv.textContent = certificate.title;
    titleDiv.setAttribute('data-en', certificate.title);
    titleDiv.setAttribute('data-ar', certificate.titleAr);
    
    // Add click event to open modal
    certDiv.addEventListener('click', function() {
      const currentLang = document.getElementById('btn-en').classList.contains('active') ? 'en' : 'ar';
      const title = currentLang === 'en' ? certificate.title : certificate.titleAr;
      openCertificateModal(title, certificate.image, currentLang);
    });
    
    certDiv.appendChild(imageDiv);
    certDiv.appendChild(titleDiv);
    track.appendChild(certDiv);
  });
  
  // Calculate max slides after certificates are loaded
  setTimeout(() => {
    const certs = track.querySelectorAll('.certificate-item');
    const visibleCerts = Math.floor(track.parentElement.offsetWidth / (certs[0].offsetWidth + 30));
    maxCertSlides = Math.max(0, certs.length - visibleCerts);
  }, 100);
}

// Slide functions - FIXED
function slideLeft() {
  const track = document.getElementById('companiesTrack');
  const logos = track.querySelectorAll('.company-logo');
  if (logos.length === 0) return;
  
  const logoWidth = logos[0].offsetWidth + 50; // width + gap
  
  currentSlide = Math.max(currentSlide - 1, 0);
  track.style.transform = `translateX(-${currentSlide * logoWidth}px)`;
  
  updateArrowVisibility();
}

function slideRight() {
  const track = document.getElementById('companiesTrack');
  const logos = track.querySelectorAll('.company-logo');
  if (logos.length === 0) return;
  
  const logoWidth = logos[0].offsetWidth + 50; // width + gap
  
  // Calculate max slides dynamically
  const visibleLogos = Math.floor(track.parentElement.offsetWidth / logoWidth);
  const maxSlides = Math.max(0, logos.length - visibleLogos);
  
  currentSlide = Math.min(currentSlide + 1, maxSlides);
  track.style.transform = `translateX(-${currentSlide * logoWidth}px)`;
  
  updateArrowVisibility();
}

// Certificate slide functions
function slideCertificatesLeft() {
  const track = document.getElementById('certificatesTrack');
  const certs = track.querySelectorAll('.certificate-item');
  if (certs.length === 0) return;
  
  const certWidth = certs[0].offsetWidth + 30; // width + gap
  
  currentCertSlide = Math.max(currentCertSlide - 1, 0);
  track.style.transform = `translateX(-${currentCertSlide * certWidth}px)`;
  
  updateCertificatesArrowVisibility();
}

function slideCertificatesRight() {
  const track = document.getElementById('certificatesTrack');
  const certs = track.querySelectorAll('.certificate-item');
  if (certs.length === 0) return;
  
  const certWidth = certs[0].offsetWidth + 30; // width + gap
  
  // Calculate max slides dynamically
  const visibleCerts = Math.floor(track.parentElement.offsetWidth / certWidth);
  const maxCertSlides = Math.max(0, certs.length - visibleCerts);
  
  currentCertSlide = Math.min(currentCertSlide + 1, maxCertSlides);
  track.style.transform = `translateX(-${currentCertSlide * certWidth}px)`;
  
  updateCertificatesArrowVisibility();
}

// Update arrow visibility based on current position
function updateArrowVisibility() {
  const leftArrow = document.querySelector('.arrow-left');
  const rightArrow = document.querySelector('.arrow-right');
  
  if (currentSlide === 0) {
    leftArrow.style.opacity = '0.5';
    leftArrow.style.cursor = 'not-allowed';
  } else {
    leftArrow.style.opacity = '1';
    leftArrow.style.cursor = 'pointer';
  }
  
  const track = document.getElementById('companiesTrack');
  const logos = track.querySelectorAll('.company-logo');
  const visibleLogos = Math.floor(track.parentElement.offsetWidth / (logos[0].offsetWidth + 50));
  const maxSlides = Math.max(0, logos.length - visibleLogos);
  
  if (currentSlide >= maxSlides) {
    rightArrow.style.opacity = '0.5';
    rightArrow.style.cursor = 'not-allowed';
  } else {
    rightArrow.style.opacity = '1';
    rightArrow.style.cursor = 'pointer';
  }
}

// Update certificates arrow visibility
function updateCertificatesArrowVisibility() {
  const leftArrow = document.querySelector('.certificates-arrow-left');
  const rightArrow = document.querySelector('.certificates-arrow-right');
  
  if (currentCertSlide === 0) {
    leftArrow.style.opacity = '0.5';
    leftArrow.style.cursor = 'not-allowed';
  } else {
    leftArrow.style.opacity = '1';
    leftArrow.style.cursor = 'pointer';
  }
  
  const track = document.getElementById('certificatesTrack');
  const certs = track.querySelectorAll('.certificate-item');
  const visibleCerts = Math.floor(track.parentElement.offsetWidth / (certs[0].offsetWidth + 30));
  const maxCertSlides = Math.max(0, certs.length - visibleCerts);
  
  if (currentCertSlide >= maxCertSlides) {
    rightArrow.style.opacity = '0.5';
    rightArrow.style.cursor = 'not-allowed';
  } else {
    rightArrow.style.opacity = '1';
    rightArrow.style.cursor = 'pointer';
  }
}

// Auto slide every 5 seconds
function startAutoSlide() {
  setInterval(() => {
    const track = document.getElementById('companiesTrack');
    const logos = track.querySelectorAll('.company-logo');
    if (logos.length === 0) return;
    
    const logoWidth = logos[0].offsetWidth + 50;
    const visibleLogos = Math.floor(track.parentElement.offsetWidth / logoWidth);
    const maxSlides = Math.max(0, logos.length - visibleLogos);
    
    if (currentSlide >= maxSlides) {
      currentSlide = 0;
    } else {
      currentSlide++;
    }
    
    track.style.transform = `translateX(-${currentSlide * logoWidth}px)`;
    updateArrowVisibility();
  }, 5000);
}

/* ===== Language toggle (only descriptions change) ===== */
const btnEn = document.getElementById('btn-en');
const btnAr = document.getElementById('btn-ar');

function setLanguage(lang){
  // hero desc + all data-en/ar texts
  document.querySelectorAll('[data-en]').forEach(el=>{
    el.innerText = el.getAttribute(lang === 'ar' ? 'data-ar' : 'data-en');
  });

  // switch active button
  btnEn.classList.toggle('active', lang === 'en');
  btnAr.classList.toggle('active', lang === 'ar');
  
  // Update contact modal language
  updateContactLanguage(lang);
  
  // Update music control button text
  if (musicPlaying) {
    musicText.textContent = lang === 'en' ? 'Pause Music' : 'ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
  } else {
    musicText.textContent = lang === 'en' ? 'Play Music' : 'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ';
  }
  
  // Update music prompt language
  updateMusicPromptLanguage(lang);
  
  // Update contact modal language buttons
  document.getElementById('contactModalEn').classList.toggle('active', lang === 'en');
  document.getElementById('contactModalAr').classList.toggle('active', lang === 'ar');
}

// default to English
setLanguage('en');
btnEn.addEventListener('click', ()=> setLanguage('en'));
btnAr.addEventListener('click', ()=> setLanguage('ar'));

// Music prompt language toggle
document.getElementById('musicPromptEn').addEventListener('click', () => {
  setLanguage('en');
  updateMusicPromptLanguage('en');
});
document.getElementById('musicPromptAr').addEventListener('click', () => {
  setLanguage('ar');
  updateMusicPromptLanguage('ar');
});

// Contact modal language toggle
document.getElementById('contactModalEn').addEventListener('click', () => setLanguage('en'));
document.getElementById('contactModalAr').addEventListener('click', () => setLanguage('ar'));

/* ===== Project Slideshows (auto + dots click) ===== */
document.querySelectorAll('.media').forEach(media=>{
  const img = media.querySelector('img');
  const slides = JSON.parse(img.getAttribute('data-slides') || '[]');
  const dotsWrap = media.querySelector('.dots');
  if(slides.length === 0) return;

  let current = 0;
  slides.forEach((s, i)=>{
    const dot = document.createElement('div');
    dot.className = 'dot' + (i===0 ? ' active':'');
    dot.addEventListener('click', ()=>{
      current = i;
      updateSlide();
      resetTimer();
    });
    dotsWrap.appendChild(dot);
  });
  const dots = dotsWrap.querySelectorAll('.dot');

  function updateSlide(){
    img.src = slides[current];
    dots.forEach((d,i)=> d.classList.toggle('active', i===current));
    
    // Update fullscreen button to current slide
    const fullscreenBtn = media.querySelector('.fullscreen-btn');
    if (fullscreenBtn) {
      fullscreenBtn.setAttribute('onclick', `openFullscreenModal('${slides[current]}', this)`);
    }
  }

  function nextSlide(){
    current = (current + 1) % slides.length;
    updateSlide();
  }

  let timer = setInterval(nextSlide, 4000);
  function resetTimer(){
    clearInterval(timer);
    timer = setInterval(nextSlide, 4000);
  }
  
  // Add swipe functionality to project slides
  let startX = 0;
  let endX = 0;
  const swipeThreshold = 50; // Minimum swipe distance
  
  media.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
  });
  
  media.addEventListener('touchmove', (e) => {
    endX = e.touches[0].clientX;
  });
  
  media.addEventListener('touchend', () => {
    handleSwipe();
  });
  
  // Mouse events for desktop
  media.addEventListener('mousedown', (e) => {
    startX = e.clientX;
    media.addEventListener('mousemove', handleMouseMove);
    media.addEventListener('mouseup', handleMouseUp);
    media.addEventListener('mouseleave', handleMouseUp);
  });
  
  function handleMouseMove(e) {
    endX = e.clientX;
  }
  
  function handleMouseUp() {
    handleSwipe();
    media.removeEventListener('mousemove', handleMouseMove);
    media.removeEventListener('mouseup', handleMouseUp);
    media.removeEventListener('mouseleave', handleMouseUp);
  }
  
  function handleSwipe() {
    const diffX = startX - endX;
    
    if (Math.abs(diffX) > swipeThreshold) {
      if (diffX > 0) {
        // Swipe left - next slide
        current = (current + 1) % slides.length;
      } else {
        // Swipe right - previous slide
        current = (current - 1 + slides.length) % slides.length;
      }
      updateSlide();
      resetTimer();
    }
  }
});

/* ===== Watch Video Modal ===== */
const videoModal = document.getElementById('videoModal');
const modalVideoPlayer = document.getElementById('modalVideoPlayer');
const modalVideoSrc = document.getElementById('modalVideoSrc');

document.querySelectorAll('.watch').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const videoSrc = btn.getAttribute('data-video');
    modalVideoSrc.src = videoSrc;
    modalVideoPlayer.load();
    videoModal.classList.add('open');
    videoModal.setAttribute('aria-hidden','false');
  });
});

function closeVideo(){
  videoModal.classList.remove('open');
  videoModal.setAttribute('aria-hidden','true');
  modalVideoPlayer.pause();
  modalVideoSrc.src = '';
}

/* ===== Modal backdrop close ===== */
document.querySelectorAll('.modal').forEach(m=>{
  m.addEventListener('click', ev=>{
    if(ev.target === m){
      if(m === videoModal) closeVideo();
      if(m === contactModal) closeContactModal();
      if(m === successMessage) closeSuccessMessage();
      if(m === certificateModal) closeCertificateModal();
      if(m === fullscreenModal) closeFullscreenModal();
    }
  });
});

/* ===== ESC key close ===== */
document.addEventListener('keydown', e=>{
  if(e.key === 'Escape'){
    if(videoModal.classList.contains('open')) closeVideo();
    if(contactModal.classList.contains('open')) closeContactModal();
    if(successMessage.classList.contains('open')) closeSuccessMessage();
    if(certificateModal.classList.contains('open')) closeCertificateModal();
    if(fullscreenModal.classList.contains('open')) closeFullscreenModal();
  }
});

// Add swipe functionality to companies slider
function initCompaniesSwipe() {
  const slider = document.querySelector('.companies-slider');
  const track = document.getElementById('companiesTrack');
  let startX = 0;
  let currentX = 0;
  let isDragging = false;
  
  slider.addEventListener('mousedown', (e) => {
    isDragging = true;
    startX = e.clientX;
    currentX = startX;
    slider.style.cursor = 'grabbing';
  });
  
  slider.addEventListener('touchstart', (e) => {
    isDragging = true;
    startX = e.touches[0].clientX;
    currentX = startX;
  });
  
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    currentX = e.clientX;
  });
  
  document.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    currentX = e.touches[0].clientX;
  });
  
  document.addEventListener('mouseup', () => {
    if (!isDragging) return;
    handleCompaniesSwipe();
    isDragging = false;
    slider.style.cursor = 'grab';
  });
  
  document.addEventListener('touchend', () => {
    if (!isDragging) return;
    handleCompaniesSwipe();
    isDragging = false;
  });
  
  function handleCompaniesSwipe() {
    const diffX = startX - currentX;
    const swipeThreshold = 50;
    
    if (Math.abs(diffX) > swipeThreshold) {
      if (diffX > 0) {
        // Swipe left - next slide
        slideRight();
      } else {
        // Swipe right - previous slide
        slideLeft();
      }
    }
  }
}

// Add swipe functionality to certificates slider
function initCertificatesSwipe() {
  const slider = document.querySelector('.certificates-slider');
  const track = document.getElementById('certificatesTrack');
  let startX = 0;
  let currentX = 0;
  let isDragging = false;
  
  slider.addEventListener('mousedown', (e) => {
    isDragging = true;
    startX = e.clientX;
    currentX = startX;
    slider.style.cursor = 'grabbing';
  });
  
  slider.addEventListener('touchstart', (e) => {
    isDragging = true;
    startX = e.touches[0].clientX;
    currentX = startX;
  });
  
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    currentX = e.clientX;
  });
  
  document.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    currentX = e.touches[0].clientX;
  });
  
  document.addEventListener('mouseup', () => {
    if (!isDragging) return;
    handleCertificatesSwipe();
    isDragging = false;
    slider.style.cursor = 'grab';
  });
  
  document.addEventListener('touchend', () => {
    if (!isDragging) return;
    handleCertificatesSwipe();
    isDragging = false;
  });
  
  function handleCertificatesSwipe() {
    const diffX = startX - currentX;
    const swipeThreshold = 50;
    
    if (Math.abs(diffX) > swipeThreshold) {
      if (diffX > 0) {
        // Swipe left - next slide
        slideCertificatesRight();
      } else {
        // Swipe right - previous slide
        slideCertificatesLeft();
      }
    }
  }
}

// Initialize companies slider when page loads
document.addEventListener('DOMContentLoaded', () => {
  initCompaniesSlider();
  initCompaniesSwipe();
  initCertificatesSlider();
  initCertificatesSwipe();
  setTimeout(() => {
    startAutoSlide();
    updateArrowVisibility();
    updateCertificatesArrowVisibility();
  }, 1000); // Start auto-slide after 1 second
});

// Update arrow visibility on window resize
window.addEventListener('resize', updateArrowVisibility);
window.addEventListener('resize', updateCertificatesArrowVisibility);
</script>
</body>
</html>
